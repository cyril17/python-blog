!function(t){function n(o){if(e[o])return e[o].exports;var a=e[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function o(t){var n=/^[A-Za-z][A-Za-z0-9_]{4,}$/;return n.test(t)}function a(t){var n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+$/;return n.test(t)}function r(t){var n=/^[\S]{6,}$/;return n.test(t)}function i(){return o(l.val())?a(p.val())&&r(d.val())&&r(f.val())?d.val()!==f.val()?!1:!0:!1:(l.focus(),!1)}var s=e(1),u=window.location.protocol+"//"+window.location.host,c=u+"/api/v1.0/register",l=s("input#username"),p=s("input#email"),d=s("input#password"),f=s("input#password2"),v=s("button#register-btn");s("p#success-tip");s(function(){s.each([l,p,d,f],function(){s(this).keyup(function(){i()?v.prop("disabled",!1):v.prop("disabled",!0)})})}),s(function(){v.on("click",function(){var t=l.val(),n=p.val(),e=d.val();s.ajax({method:"POST",url:c,data:{username:t,email:n,password:e},dataType:"json",timeout:3e4,beforeSend:function(){v.prop("disabled",!0).text("注册中...")},error:function(){d.val(""),f.val(""),v.text("发送注册邮件").prop("disabled",!0)},success:function(t){t.success&&1==t.success?(alert("注册成功"),window.location.href=u):(d.val(""),f.val(""),alert(t.message))}}).done(function(){v.text("发送注册邮件")})})})},function(t,n){t.exports=jQuery}]);